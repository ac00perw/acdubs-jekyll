<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
   <meta http-equiv="content-type" content="text/html; charset=utf-8" />
   <title>HDHR Prime, MacBookPro, VLC and me | Adam Cooper Wood | acdubs.com</title>
   <meta name="author" content="Adam Cooper Wood" />
   
	<link rel="stylesheet" href="/css/normalize.css" />
	<link rel="stylesheet" href="/css/foundation.css" />
	<link rel="stylesheet" href="/css/app.css" />
	

   	<script type="text/javascript" src="/js/jquery-1.8.2.min.js"></script>
	<script type="text/javascript" src="/js/jquery.transit.js"></script>
	<script src="/js/vendor/custom.modernizr.js"></script>
	<script type="text/javascript" src="//use.typekit.net/xed0uqy.js"></script>
	
	<script type="text/javascript">try{Typekit.load();}catch(e){}</script>
	
	
<script type="text/javascript">

	function loadNew(l){
		console.log(l);
		$('#ytplayer').attr('src', 'http://www.youtube.com/embed/'+l+'?autoplay=1');
	}
$(document).ready(function(){

	$.get("http://gdata.youtube.com/feeds/base/users/acooperw/uploads?orderby=updated&alt=json&format=5", function(data){
		  var feed = data.feed;
		  var out='<ul class="no-bullet">';
		  var entries = feed.entry || [];
			  for (var i = 0; i < entries.length; i++) {
				var entry = entries[i];
				var title = entry.title.$t;
				var id=entry.id.$t;
				var link = entry.link[1].href.split("/");
				  out+='<li><a href="javascript:loadNew(\''+link[8]+'\')">' + title +'</a></li>';
			  }
		  out+="</ul>";
		  
		  $('#videos').html(out);
		}, "jsonp");
		
});
</script>

</head>
<body>
<div id="page" class="row">
	<div id="deadscene"><img src="/images/slinky-bw.jpg" /></div>
	<nav class="top-bar">
  <ul class="title-area">
    <!-- Title Area -->
    <li class="name">
      <h1><a href="/">Adam Cooper Wood</a></h1>
    </li>
  </ul>
  <ul>
  <li class="left toggle-topbar menu-icon"><a href="#"><span>Menu</span></a></li>
  <ul>
    <!-- Left Nav Section -->
    <section class="top-bar-section">
    <ul class="left">
		  <li class="divider"></li>
  		<li class="has-dropdown "><a href="/music">Music</a>
  				<ul class="dropdown">
				  <li><a href="/music">General Music</a></li>
				  <li><a href="/music/c-funk">C-Funk - Shitcan Noisebelt</a></li>
				</ul>
  		  </li>

          <li ><a href="/blog">Blog</a></li>

          <li ><a href="/tweets">Tweets</a></li>

          <li  ><a href="/shaving">Shaving</a></li>


          <li  ><a href="/video">Video</a></li>

          <li  ><a href="/recipes">Recipes</a></li>

          <li ><a href="/tvsports">Sports</a></li>

          <li ><a href="/about">About</a></li>

    </ul>
    </section>
</ul>

</nav>
	<h1 class="pagetitle">HDHR Prime, MacBookPro, VLC and me</h1>
	<div class="large-9 columns">
		<p><p><img src="/images/network/hdhr.jpg" width="30%" align="left"/>My primary means of serving TV to my MacBookPro is via MythTV, which has served me well for the past 5 or 6 years. 
I recently acquired an <a href="http://amzn.com/B004HKIB6E">HDHR Prime</a> into which a CableCard can be plugged. This eliminates the need for a settop box, 
and the rather bizarre Linux Remote Control (LIRC) hoops one must dance through to "blast" infrared channel changing signals 
from a Linux box to a cable box. The HDHR Prime plus CableCard setup also upgraded my signal quality considerably.</p>
<p>There are times, however, when MythTV is a bit bulky for my TV viewing needs (live events come to mind- 
Saturday morning British Premier League soccer in this house). Enter <a href="http://www.videolan.org/index.html">VLC</a>.</p>
<p>There are two ways to connect VLC to your Prime's stream: HTTP or UDP. I have had more stability with UDP, but I haven't
played too much with the HTTP stream. To connect your Mac to your Prime via http is pretty simple. The stream URL looks like this:
<pre>
http://&lt;prime ip>:5004/&lt;tuner>/v&lt;channel>?duration=&lt;seconds>
</pre>
<p>
<ul class="no-bullet">
<li>&lt;prime ip> is the ip address of the prime</li>
<li>&lt;tuner> is auto for auto select else tuner0, tuner1, or tuner2</li>
<li>&lt;channel> is the virtual channel number - note the v that precedes it</li>
<li>&lt;seconds> (optional is the length of time to stream</li>
</ul></p>
<p>Drop this into the Network URL on VLC (File, Open Network):</p>
<img src="/images/network/vlc-network.jpg" />
<p>Similarly, to connect via UDP, drop</p>
<pre>udp://@:1234</pre>
<p>into the Network URL box on VLC. This will tell VLC to look for an incoming UDP signal.
 We will send the signal to it using the <a href="http://www.silicondust.com/support/hdhomerun/downloads/">hdhomerun_config</a> command line tool. That will look like this:</p>
<pre>
hdhomerun_config 111111A8 set /tuner0/target 192.168.1.5:1234;
hdhomerun_config 111111A8 set /tuner0/vchannel 67;
</pre>
<p>The first line tells the Prime (the one with the unique ID 111111A8) to send it's signal to my IP address
at port 1234 and the second line tells the Prime to tune to channel 67, which happens to be Comedy Central in my area. To make this slightly easier, I really geeked out and made a simple bash function to do all of this. As a hack, I made an <a href="/network/hdhr.m3u">.m3u playlist</a> which connects to the UDP stream. 
I couldn't find a way to connect directly to the stream from the command line.</p>  
<pre>
tv() { 

if [ ! "$(pgrep "VLC")" ]
then
	echo "Opening VLC...";
	open /Applications/VLC.app/ ~/Documents/hdhr.m3u 
	sleep 3;

fi

hdhomerun_config 131765A8 set /tuner0/target 192.168.1.5:1234;
hdhomerun_config 131765A8 set /tuner0/vchannel $@;
}
</pre>
<p>I stuck this script in my ~/.bash_profile. To call up Comedy Central, I just need to enter</p>
<pre>tv 67</pre>
<p>On the command line.</p>
</p>
		<div id="disqus_thread"></div>
<script type="text/javascript">
	/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
	var disqus_shortname = 'acdubs'; // required: replace example with your forum shortname

	/* * * DON'T EDIT BELOW THIS LINE * * */
	(function() {
		var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
		dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	})();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    
	</div>
	<div class="large-3 columns">	
			<!-- h6>TV/Networking posts</h6>	
		    <ul class="no-bullet">
		    
			  <li>&raquo; <a href="/network/crontab-timer/index.html">Poor Man's Crontab-based plant Timer</a></li>
			
			  <li>&raquo; <a href="/network/hdhr-prime-vlc/index.html">HDHR Prime, MacBookPro, VLC and me</a></li>
			
			</ul -->
			<p><a href="/tech-specs">Tech Specs/Hardware List</a></p>
			
			<h6>Posts about 'networking'</h6>
			<ul>
			
			<li><a href="/network/hdhr-prime-vlc/index.html">'HDHR Prime, MacBookPro, VLC and me'</a></li>
			
			<li><a href="/network/crontab-timer/index.html">'Poor Man's Crontab-based plant Timer'</a></li>
			
			</ul>
			
			<h6>Posts about 'ubuntu'</h6>
			<ul>
			
			<li><a href="/network/crontab-timer/index.html">'Poor Man's Crontab-based plant Timer'</a></li>
			
			</ul>
			
			<h6>Posts about 'hdhr prime'</h6>
			<ul>
			
			<li><a href="/network/hdhr-prime-vlc/index.html">'HDHR Prime, MacBookPro, VLC and me'</a></li>
			
			</ul>
			
			<h6>Posts about 'X10'</h6>
			<ul>
			
			<li><a href="/network/crontab-timer/index.html">'Poor Man's Crontab-based plant Timer'</a></li>
			
			</ul>
			
			

	</div>
</div>
</div>
<div class="row">
	    <div class="footer">
      <p>
       	Â©2013 Cooper Tunes LLC. All rights reserved.
        <a href="http://twitter.com/ac00perw/">twitter.com/ac00perw</a><br />
      </p>
  </div>

</div>


<!-- Google Analytics -->
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-850650-2']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
<!-- Google Analytics end -->

  <script>
  document.write('<script src=' +
  ('__proto__' in {} ? '/js/vendor/zepto' : '/js/vendor/jquery') +
  '.js><\/script>')
  </script>
  
  <script src="/js/foundation.min.js"></script>
  <!--
  
  <script src="js/foundation/foundation.js"></script>
  
  <script src="js/foundation/foundation.alerts.js"></script>
  
  <script src="js/foundation/foundation.clearing.js"></script>
  
  <script src="js/foundation/foundation.cookie.js"></script>
  
  <script src="js/foundation/foundation.dropdown.js"></script>
  
  <script src="js/foundation/foundation.forms.js"></script>
  
  <script src="js/foundation/foundation.joyride.js"></script>
  
  <script src="js/foundation/foundation.magellan.js"></script>
  
  <script src="js/foundation/foundation.orbit.js"></script>
  
  <script src="js/foundation/foundation.placeholder.js"></script>
  
  <script src="js/foundation/foundation.reveal.js"></script>
  
  <script src="js/foundation/foundation.section.js"></script>
  
  <script src="js/foundation/foundation.tooltips.js"></script>
    -->
  <script src="/js/foundation/foundation.topbar.js"></script>
  

  
  <script>
    $(document).foundation();
  </script>

</body>
</html>